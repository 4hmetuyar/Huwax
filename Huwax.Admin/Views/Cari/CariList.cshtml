@using Huwax.Common
@model IEnumerable<Infrastructure.Models.CariModel>
@{
    ViewBag.Title = "Cari Listesi";
    var i = 0;
}



<div class="btn-toolbar top-table" role="toolbar">
    <div class="btn-group pull-right">

        <div class="btn-group">
            <a href="@Url.Action("UserAdd","User")" class="btn btn-default"><i class="fa fa-plus"></i> Yeni Kullanıcı Ekle</a>
        </div>
    </div>
</div>
<!-- BEGIN DATA TABLE -->
<div class="the-box">
    <div class="table-responsive">
        <table class="table table-striped table-hover" id="datatable-example">
            <thead class="the-box dark full">
                <tr>
                    <th>Sıra</th>
                    <th>TC No</th>
                    <th>Vergi Dairesi</th>
                    <th>Vergi Numarası</th>
                    <th>Sirket</th>
                    <th>Unvan</th>
                    <th>il</th>
                    <th>ilce</th>
                    <th>Telefon</th>
                    <th>Seçenekler</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var cari in Model)
                {
                    i++;
                    <tr>
                        <td>@i</td>

                        <td>@cari.TCNo</td>
                        <td>@cari.TaxOffice</td>
                        <td>@cari.TaxNumber</td>
                        <td>@cari.Company</td>
                        <td>@cari.Title</td>
                        <td>@cari.Province</td>
                        <td>@cari.District</td> 
                        <td>@cari.Phone</td>

                        <td>
                            <a href="@Url.Action("UserStatus", "User", new { userId = cari.CariId })"><span class="btn btn-default" title="Aktif"><i class="fa  fa-check-square-o"></i></span></a>

                            <a class="btn btn-danger" data-toggle="modal" title="Delete" href='#DefaultModal' onclick="SetId(@cari.CariId)">
                                <i class=" fa fa-trash-o"></i>
                            </a>
                            <a href="@Url.Action("UserProfile", "User", new { userId = cari.CariId })"><span class="btn btn-default" title="Profil"><i class="fa fa-user"></i></span></a>
                            <a href="@Url.Action("UserProfileEdit","User",new {userId=cari.CariId})"><span class="btn btn-default" title="Düzenle"><i class="fa fa-wrench"></i></span></a>
                        </td>

                    </tr>
                }
                @{ i = 0;}

            </tbody>
        </table>
    </div>
</div>
<div class="modal fade" id="DefaultModal" tabindex="-1" role="dialog" aria-labelledby="DefaultModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="DefaultModalLabel">Kullanıcı Silme İşlemi</h4>
            </div>
            <div class="modal-body">
                Kullanıcıyı silmek istediğinize emin misiniz ?
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Hayır</button>
                <a id="DeleteUser">
                    <div class="btn btn-primary">
                        Evet
                    </div>
                </a>
            </div>
        </div>
    </div>
</div>

<script>
    function SetId(userId) {
        $("#DeleteUser").attr('href', '/User/UserDelete?userId=' + userId);
    }
</script>